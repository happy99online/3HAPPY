<html>
  <head>
    <title>HAPPY3</title>

    <style>
    body { margin: 0;}
    canvas { width: 100%; height: 100%; }
    </style>
  </head>

  <body>
    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>



    <script>
     var scene = new THREE.Scene( );
     var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

     // Create a material
var textureLoader = new THREE.TextureLoader();
var map = textureLoader.load('models/Happy99angel.png');
var material = new THREE.MeshPhongMaterial({map: map});

var loader = new THREE.OBJLoader();
loader.load( 'models/Happy99angel.obj', function ( object ) {

  // For any meshes in the model, add our material.
  object.traverse( function ( node ) {

    if ( node.isMesh ) node.material = material;

  } );

  // Add the model to the scene.
  scene.add( object );
} );




     var renderer = new THREE.WebGLRenderer( );
     renderer.setSize( window.innerWidth, window.innerHeight );
     document.body.appendChild( renderer.domElement );

     window.addEventListener( 'resize', function(  )
     {
       var width = window.innerWidth;
       var height = window.innerHeight;
       renderer.setSize( width, height );
       camera.aspect = width / height;
       camera.updateProjectionMatrix( );
     } );




camera.position.z = 3





var DirectionalLight = new THREE.DirectionalLight( 0xFFFFFF, 1.0);
DirectionalLight.position.set( 0, 0, 1);
scene.add( DirectionalLight );

controls = new THREE.OrbitControls( camera, renderer.domElement );
controls.addEventListener( 'change', light_update );
controls.enableZoom = false;


function light_update()
{
    DirectionalLight.position.copy( camera.position );
}
// game logic
     var update = function( )
     {
       //cube.rotation.x += 0.01;
       //cube.rotation.y += 0.005;


     };

//draw Scene
     var render = function( )
     {
       renderer.render( scene, camera );
     };

//run game loop (update, render, repeat)
     var GameLoop = function( )
     {
       requestAnimationFrame( GameLoop );

       update( );
       render( );
     };

     GameLoop( );
     </script>
   </body>
</html>
